<ion-view hide-back-button="true">
  <ion-nav-title>
    Perfil
  </ion-nav-title>
  <ion-nav-buttons side="right">
    <button class="button button button-icon icon ion-log-out" ng-click="vm.logout();">
    </button>
  </ion-nav-buttons>
  <ion-content>
    <form name="vm.formPerfil" novalidate>
      <div class="container-avatar-perfil text-align-center">
        <img ng-src="images/svg/user-empty.svg" class="avatar" style="height: 35vh;" ng-if="vm.user.mgUser === null" ng-click="vm.getPicture(1);">
        <img ng-src="data:image/*;base64,{{vm.user.mgUser}}" class="avatar" style="height: 30vh;" ng-if="vm.user.mgUser !== null" ng-click="vm.getPicture(1);">
        <div class="camera-avatar-perfil cursor-pointer" ng-click="vm.getPicture(1);"></div>
      </div>
      <div layout="row" style="margin: 0 14vw 0 14vw;">
        <div flex class="align-self-center">
          <input id="name" name="name" type="text" data-ng-model="vm.user.dsName" autocomplete="off" required 
            class="text-align-center" style="color: #F44F0F !important; font-size: 1.5rem;">
        </div>
      </div>
      <div layout="column" style="margin: 5vh 5vw 0 5vw;">
        <div flex layout="row">
          <div flex="60" style="padding-right: 5vw;">
            <label class="item-input item-stacked-label">
              <span class="input-label" for="birthDay">Data de Nascimento</span>
              <input id="birthDay" name="birthDay" type="date" data-ng-model="vm.dtBirthDay" autocomplete="off"
                min="{{vm.minDtBirthDay}}" max="{{vm.maxDtBirthDay}}">
            </label>
          </div>
          <div flex>
            <label class="item-input item-stacked-label">
              <span class="input-label" for="state">Estado</span>
              <select id="state" data-ng-model="vm.idState" ng-options="item.idState as item.desState for item in vm.states"
                ng-change="vm.listCityByState(vm.idState);">
                <option value=""></option>
              </select>
            </label>
          </div>
        </div>
        <div flex layout="row" style="margin-top: 1vh;">
          <div flex="60" style="padding-right: 5vw;">
            <label class="item-input item-stacked-label">
              <span class="input-label" for="gender">GÃªnero</span>
              <select id="gender" data-ng-model="vm.user.genderEnum" ng-options="item.value as item.label for item in vm.genders">
                <option value=""></option>
              </select>
            </label>
          </div>
          <div flex>
            <label class="item-input item-stacked-label">
              <span class="input-label" for="city">Cidade <span ng-if="vm.idState !== null">*</span></span>
              <select id="city" data-ng-model="vm.idCity" ng-options="item.idCity as item.desCity for item in vm.cities" ng-required="vm.idState !== null">
                <option value=""></option>
              </select>
            </label>
          </div>
        </div>
        <div flex layout="row" style="margin-top: 1vh;">
          <div flex="60" style="padding-right: 5vw;">
            <label class="item-input item-stacked-label">
              <span class="input-label" for="children">Filhos</span>
              <input id="children" name="children" type="number" data-ng-model="vm.user.nmChildren" autocomplete="off" maxlength="2">
            </label>
          </div>
          <div flex class="text-align-right" style="align-self: flex-end">
            <button class="button button-small" type="button" ng-disabled="vm.formPerfil.$invalid" ng-click="vm.save();">
              SALVAR
            </button>
          </div>
        </div>
      </div>
    </form>
  </ion-content>
</ion-view>